---
const logos = [
  { src: "/images/evo.jpg", href: "https://www.facebook.com/evolucion.habitat" },
  { src: "/images/vive.png", href: "https://vivecontempo.com/" },
  { src: "/images/agl.webp", href: "https://agljuridicoinmobiliario.com/" },
];
---
<section class="mt-7 mb-10 md:px-6 xl:px-0 flex flex-col items-center text-center bg-slate-100">
  <h2 class="text-2xl md:text-3xl font-raleway font-black text-azul-primario mb-3 md:mb-4 px-2 md:px-0">
    Empresas Aliadas
  </h2>
  <p class="text-sm font-poppins md:text-lg text-gray-600 font-thin max-w-2xl mx-auto px-2 md:px-0">
    Aliados estratégicos en bienes raíces, pólizas y remates que comparten nuestro compromiso contigo.
  </p>

  <div class="marquee-wrapper overflow-hidden h-20 w-full max-w-[950px] mx-auto px-4 md:px-8 bg-slate-100">
    <div
      class="marquee flex w-max items-center h-full select-none"
      onmouseover="this.style.animationPlayState='paused'"
      onmouseout="this.style.animationPlayState='running'"
    >
      {[...logos, ...logos].map(({ src, href }, i) => {
        const isAGL = src.includes("agl");
        return (
          <a
           
            href={href}
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center justify-center"
          >
            <img
              src={src}
              alt={`Logo alianza estratégica ${i + 1}`}
              loading="lazy"
              class={`object-contain drop-shadow-md ${
                isAGL ? 'h-24' : 'h-16'
              } w-24`}
            />
          </a>
        );
      })}
    </div>
  </div>
</section>

<style>
  /* Animación marquee */
  @keyframes marqueeAnim {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%); /* Moves exactly half the total width of the duplicated content */
    }
  }

  .marquee {
    animation: marqueeAnim 25s linear infinite;
    white-space: nowrap;
    will-change: transform;
    display: flex;
    gap: 0; /* Remove fixed gap here */
  }

  .marquee a {
    display: inline-flex;
    padding: 0 2.5rem; /* Adjust padding to control spacing between logos */
    flex-shrink: 0;
  }

  .marquee-wrapper {
    overflow: hidden;
    -webkit-mask-image: linear-gradient(to right, transparent 0px, black 2rem, black calc(100% - 2rem), transparent 100%);
    mask-image: linear-gradient(to right, transparent 0px, black 2rem, black calc(100% - 2rem), transparent 100%);
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* Máscara responsive */
  @media (max-width: 768px) {
    .marquee-wrapper {
      -webkit-mask-image: linear-gradient(to right, transparent 0px, black 1rem, black calc(100% - 1rem), transparent 100%);
      mask-image: linear-gradient(to right, transparent 0px, black 1rem, black calc(100% - 1rem), transparent 100%);
    }
  }
</style>