---
const faqData = [
  {
    id: 1,
    question: "¿Qué tipos de pólizas de seguro ofrecen?",
    answer:
      "Ofrecemos una amplia gama de pólizas incluyendo seguro de vida, auto, hogar, salud, y seguros comerciales. Cada póliza está diseñada para adaptarse a las necesidades específicas de nuestros clientes y proporcionar la máxima protección.",
  },
  {
    id: 2,
    question: "¿Cómo puedo presentar una reclamación?",
    answer:
      "Puede presentar una reclamación de varias maneras: a través de nuestra aplicación móvil, llamando a nuestra línea directa 24/7, visitando cualquiera de nuestras oficinas, o completando el formulario en línea en nuestro sitio web. Nuestro equipo de expertos lo guiará durante todo el proceso.",
    icon: "file-text",
  },
  {
    id: 3,
    question: "¿Cuánto tiempo tarda en procesarse una reclamación?",
    answer:
      "El tiempo de procesamiento varía según el tipo de reclamación. Las reclamaciones simples pueden procesarse en 24-48 horas, mientras que las más complejas pueden tomar de 5 a 15 días hábiles. Mantenemos a nuestros clientes informados durante todo el proceso.",
    icon: "clock",
  },
  {
    id: 4,
    question: "¿Puedo modificar mi póliza después de contratarla?",
    answer:
      "Sí, puede modificar su póliza en cualquier momento. Esto incluye cambios en la cobertura, beneficiarios, o información personal. Algunos cambios pueden requerir una nueva evaluación de riesgo y podrían afectar su prima.",
    icon: "file-text",
  },
  {
    id: 5,
    question: "¿Cómo puedo contactar al servicio al cliente?",
    answer:
      "Nuestro servicio al cliente está disponible 24/7 a través de múltiples canales: teléfono (1-800-SEGUROS), chat en vivo en nuestro sitio web, email (soporte@seguros.com), o visitando cualquiera de nuestras 200+ oficinas en todo el país.",
    icon: "phone",
  },
  {
    id: 6,
    question: "¿Cuáles son los horarios y condiciones para la firma del contrato?",
    answer:
      "La firma se realiza de lunes a viernes de 9:00 a 18:00 y los sábados hasta las 14:00. Se firma en oficina, salvo acuerdo previo (mínimo con 3 días de anticipación). Firmas fuera de Cuernavaca, Jiutepec o Temixco tienen un costo adicional desde $500. En días inhábiles, se aplica un cargo extra de $500.",
  },
  {
    id: 7,
    question: "¿Quiénes deben firmar y cómo se realiza la firma?",
    answer:
      "El arrendatario y su aval deben firmar presencialmente. La firma electrónica está disponible solo para propietarios, pero requiere ratificación. Todos deben estar presentes al mismo tiempo; no se permite firma por separado ni escalonada.",
  },
  {
    id: 8,
    question: "¿Cuánto cuesta y en qué consiste la investigación express?",
    answer:
      "La investigación express tiene un costo adicional de $1,000 y debe solicitarse por anticipado. Permite obtener resultados en 1 día hábil.",
    icon: "clock",
  },
  {
    id: 9,
    question: "¿Cuándo inicia la investigación y cuánto dura?",
    answer:
      "La investigación comienza únicamente cuando se entregan todos los documentos requeridos. El tiempo estándar de respuesta es de 3 días hábiles.",
    icon: "clock",
  },
];
---

<section id="faq" class="max-w-3xl mx-auto px-4 py-16">
  <header class="text-center mb-10">
    <div class="w-12 h-12 mx-auto mb-4">
      <img src="/images/faq.png" alt="Preguntas Frecuentes" class="w-12 h-12 object-contain" />
    </div>
    <h2 class="text-2xl md:text-4xl font-raleway font-bold text-midnight">Preguntas <span class="text-dorado-secundario">Frecuentes</span></h2>
    <p class="text-sm font-poppins md:text-lg text-gray-600 font-thin mt-0.5">Encuentra respuestas sobre nuestras pólizas de seguro</p>
  </header>

  <div class="space-y-4">
    {faqData.map((faq) => (
      <div class="border border-transparent rounded-md">
        <button
          class="w-full flex justify-between items-center text-left px-4 py-3 bg-white"
          aria-expanded="false"
          data-faq-id={faq.id}
        >
          <div class="flex items-center gap-3 w-full">
            <span class="font-medium font-montserrat text-midnight text-sm md:text-[18px]">{faq.question}</span>
          </div>
          <svg class="w-5 h-5 text-amber-600 transition-transform duration-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="m6 9 6 6 6-6" />
          </svg>
        </button>
        <div class="faq-answer max-h-0 overflow-hidden opacity-0 transition-all duration-700 ease-in-out px-4">
          <p class="text-gray-600 font-light font-poppins text-balance leading-relaxed text-sm md:text-base py-2">{faq.answer}</p>
        </div>
      </div>
    ))}
  </div>
<div class="mt-10 text-center">
  <a href="/docs/terms.pdf" target="_blank" class="inline-block text-md bg-blue-950 text-white px-4 py-2 rounded-full shadow-md hover:bg-azul-shadedos transition">
    Ver Términos y Condiciones (PDF)
  </a>
</div>

</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('[data-faq-id]');

    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        const container = btn.closest('div');
        const answer = container.querySelector('.faq-answer');
        const icon = btn.querySelector('svg');

        const isOpen = btn.getAttribute('aria-expanded') === 'true';

        if (isOpen) {
          btn.setAttribute('aria-expanded', 'false');
          answer.style.maxHeight = null;
          answer.style.opacity = 0;
          icon.style.transform = 'rotate(0deg)';
        } else {
          btn.setAttribute('aria-expanded', 'true');
          answer.style.maxHeight = answer.scrollHeight + 'px';
          answer.style.opacity = 1;
          icon.style.transform = 'rotate(180deg)';
        }
      });
    });
  });
</script>
