---
const faqData = [
  {
    id: 1,
    question: "¿Qué tipos de pólizas jurídicas de arrendamiento ofrecen?",
    answer:
      "Ofrecemos pólizas para protección legal de arrendadores y arrendatarios que cubren desde el cumplimiento de contrato hasta juicios de desalojo y reclamaciones por daños. Cada póliza está diseñada para proteger sus derechos y brindar seguridad durante el arrendamiento.",
  },
  {
    id: 2,
    question: "¿Cómo puedo iniciar un trámite de reclamación o desalojo?",
    answer:
      "Puede iniciar el trámite contactando a nuestro equipo legal vía telefónica, correo electrónico o a través de nuestra plataforma en línea. Nuestro equipo revisará su caso y le asesorará sobre la documentación necesaria para proceder con la reclamación o proceso judicial.",
    icon: "file-text",
  },
  {
    id: 3,
    question: "¿Cuánto tiempo tarda en resolverse un proceso legal con la póliza?",
    answer:
      "El tiempo depende de la complejidad del caso. Procesos simples pueden resolverse en pocas semanas, mientras que casos con disputas mayores pueden tardar varios meses. Nuestro objetivo es mantenerlo informado y apoyarlo en cada etapa.",
    icon: "clock",
  },
  {
    id: 4,
    question: "¿Puedo modificar mi póliza de arrendamiento una vez contratada?",
    answer:
      "Sí, puede solicitar modificaciones en la cobertura, duración o beneficiarios de la póliza. Algunas modificaciones pueden requerir una reevaluación y ajustes en la prima.",
    icon: "file-text",
  },
  {
    id: 5,
    question: "¿Qué documentos necesito para contratar una póliza jurídica de arrendamiento?",
    answer:
      "Generalmente requerimos copia del contrato de arrendamiento, identificación oficial de las partes, comprobante de domicilio y referencias. Nuestro equipo le indicará los documentos exactos según su caso.",
  },
  {
    id: 6,
    question: "¿Cómo contacto al servicio de atención para asistencia legal?",
    answer:
      "Nuestro equipo legal está disponible 24/7 por teléfono, correo electrónico y chat en línea para resolver dudas y asistirlo en cualquier trámite relacionado con su póliza.",
    icon: "phone",
  },
  {
    id: 7,
    question: "¿Qué cobertura tiene la póliza en caso de incumplimiento del arrendatario?",
    answer:
      "La póliza cubre los costos legales para procesos de desalojo, reclamaciones por rentas vencidas y daños a la propiedad, siempre que se sigan los términos y condiciones establecidos.",
  },
  {
    id: 8,
    question: "¿La investigación express está disponible para arrendamientos?",
    answer:
      "Sí, ofrecemos investigación express para evaluar rápidamente la situación del arrendatario o la propiedad. Tiene un costo adicional y entrega resultados en 1 día hábil.",
    icon: "clock",
  },
  {
    id: 9,
    question: "¿Cuándo inicia la cobertura y cuánto dura la póliza?",
    answer:
      "La cobertura inicia una vez firmada la póliza y entregada toda la documentación requerida. La vigencia es generalmente anual, con posibilidad de renovación.",
    icon: "clock",
  },
];

---

<section id="faq" class="max-w-3xl mx-auto px-4 py-16">
  <header data-aos="fade-zoom-in"
     data-aos-duration="800"
     class="text-center mb-10">
    <div class="w-12 h-12 mx-auto mb-4">
      <img src="/images/faq.png" alt="Preguntas Frecuentes" class="w-12 h-12 object-contain" />
    </div>
    <h2 class="text-2xl md:text-4xl font-raleway font-bold text-midnight">Preguntas <span class="text-dorado-secundario">Frecuentes</span></h2>
    <p class="text-sm font-poppins md:text-lg text-gray-600 font-thin mt-0.5">Encuentra respuestas sobre nuestras pólizas de seguro</p>
  </header>

  <div class="space-y-4">
    {faqData.map((faq) => (
      <div class="border border-transparent rounded-md">
        <button
          class="w-full flex justify-between items-center text-left px-4 py-3 bg-white"
          aria-expanded="false"
          data-faq-id={faq.id}
        >
          <div class="flex items-center gap-3 w-full">
            <span data-aos="fade-zoom-in"
     data-aos-duration="600"
     class="font-medium font-montserrat text-midnight text-sm md:text-[18px]">{faq.question}</span>
          </div>
          <svg class="w-5 h-5 text-amber-600 transition-transform duration-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="m6 9 6 6 6-6" />
          </svg>
        </button>
        <div class="faq-answer max-h-0 overflow-hidden opacity-0 transition-all duration-700 ease-in-out px-4">
          <p class="text-gray-600 font-light font-poppins text-balance leading-relaxed text-sm md:text-base py-2">{faq.answer}</p>
        </div>
      </div>
    ))}
  </div>
<div class="mt-10 text-center">
  <a href="/docs/terms.pdf" target="_blank" class="inline-block text-md bg-blue-950 text-white px-4 py-2 rounded-full shadow-md hover:bg-azul-shadedos transition">
    Ver Términos y Condiciones (PDF)
  </a>
</div>

</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const buttons = document.querySelectorAll('[data-faq-id]');

    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        const container = btn.closest('div');
        const answer = container.querySelector('.faq-answer');
        const icon = btn.querySelector('svg');

        const isOpen = btn.getAttribute('aria-expanded') === 'true';

        if (isOpen) {
          btn.setAttribute('aria-expanded', 'false');
          answer.style.maxHeight = null;
          answer.style.opacity = 0;
          icon.style.transform = 'rotate(0deg)';
        } else {
          btn.setAttribute('aria-expanded', 'true');
          answer.style.maxHeight = answer.scrollHeight + 'px';
          answer.style.opacity = 1;
          icon.style.transform = 'rotate(180deg)';
        }
      });
    });
  });
</script>
